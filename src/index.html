<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="robots" content="noindex" />
    <title></title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="">
    <meta name="description" content="">
  </head>

  <style>

    .cookie-dialog *,.cookie-dialog::after,.cookie-dialog::before {
        -webkit-box-sizing: border-box;
        box-sizing: border-box
    }

    .cookie-dialog {
      display: none;
    }

    .cookie-dialog--active {
      display: block;
    }

  </style>

  <body>

    <button id="resetCookies" class="cookie-dialog__reset" type="button" title="Open Cookie Preferences Dialog">
      Reset Cookie Preferences
    </button>

    <div id="cookieDialog" class="cookie-dialog cookie-dialog--active" >
      <div class="cookie-dialog__body">
        <div class="cookie-dialog__header">
          We are using cookies to see which pages you visit and check if you have visited us before, this helps us ensure you get the best experience on our website. To learn more about the cookies we use, please read our <a href="#">privacy policy</a>.</div>
        <div class="cookie-dialog__control">
          <button id="allowCookies" type="button" title="Allow Unnecessary Cookies">
            Allow Cookies &amp; Reload
          </button>
          <button id="declineCookies" type="button" title="Reject Unnecessary Cookies">
            Reject Cookies &amp; Reload
          </button>
        </div>
      </div>
    </div>

    <script>
    
    var dialog = document.getElementById("cookieDialog");
    var allowButton = document.getElementById("allowCookies");
    var declineButton = document.getElementById("declineCookies");
    var resetButton = document.getElementById("resetCookies");

    //https://github.com/Alex-D/Cookies-EU-Banner

    allowButton.addEventListener('click', function() {
      var now = new Date();
      var time = now.getTime();
      var expireTime = time + 180*24*60*60*1000; //expire in 6 months
      now.setTime(expireTime);
      document.cookie = 'cookieConsent' + '=true; Path=/; Expires=' + now.toGMTString();
      window.location.reload();
    });

    declineButton.addEventListener('click', function() {
      document.cookie = 'cookieConsent' + '=false; Path=/;';
      document.cookie = '_ga' + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;'; //need array of cookies
      window.location.reload();
    });

    resetButton.addEventListener('click', function() {
      dialog.classList.add("cookie-dialog--active");
    });

    function getCookie(name) {
      var nameEQ = name + "=";
      var ca = document.cookie.split(';');
      for(var i=0;i < ca.length;i++) {
        var c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1,c.length);
        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
      }
      return null;
    }

    var x = getCookie('cookieConsent')
    if (!x) {
      dialog.classList.add("cookie-dialog--active");
    } else if (x == 'true') {
      console.log('Cookies Allowed');
      dialog.classList.remove("cookie-dialog--active");
    } else if (x == 'false') {
      console.log('Cookies Declined');
      dialog.classList.remove("cookie-dialog--active");
    }

    </script>

  </body>
</html>